{"ast":null,"code":"import _classCallCheck from \"/Users/suziestephen/Desktop/BOOTCAMP_MAIN/homeworkfin/gbs/googlebooks.github.io/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/suziestephen/Desktop/BOOTCAMP_MAIN/homeworkfin/gbs/googlebooks.github.io/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/suziestephen/Desktop/BOOTCAMP_MAIN/homeworkfin/gbs/googlebooks.github.io/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/suziestephen/Desktop/BOOTCAMP_MAIN/homeworkfin/gbs/googlebooks.github.io/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/suziestephen/Desktop/BOOTCAMP_MAIN/homeworkfin/gbs/googlebooks.github.io/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from \"react\";\nimport API from \"../../utils/API\";\n\nvar Results =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Results, _Component);\n\n  function Results() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Results);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Results)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      savedBooks: []\n    };\n\n    _this.handleSave = function (book) {\n      if (_this.state.savedBooks.map(function (book) {\n        return book._id;\n      }).includes(book._id)) {\n        API.deleteBook(book._id).then(function (deletedBook) {\n          return _this.setState({\n            savedBooks: _this.state.savedBooks.filter(function (book) {\n              return book._id !== deletedBook._id;\n            })\n          });\n        }).catch(function (err) {\n          return console.error(err);\n        });\n      } else {\n        API.saveBook(book).then(function (savedBook) {\n          return _this.setState({\n            savedBooks: _this.state.savedBooks.concat([savedBook])\n          });\n        }).catch(function (err) {\n          return console.error(err);\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Results, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      API.savedBooks().then(function (savedBooks) {\n        return _this2.setState({\n          savedBooks: savedBooks\n        });\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    } // render() {\n    //     return (\n    //         <div>\n    //             {!this.props.books.length ? (\n    //                 <h1 className=\"text-center\">No Results to Display</h1>\n    //             ) : (\n    //                     <div>\n    //                         {this.props.books.map(result => (\n    //                             <div className=\"card mb-3\" key={result._id}>\n    //                                 <div className=\"row\">\n    //                                     <div className=\"col-md-2\">\n    //                                         <img alt={result.title} className=\"img-fluid\" src={result.image} />\n    //                                     </div>\n    //                                     <div className=\"col-md-10\">\n    //                                         <div className=\"card-body\">\n    //                                             <h5 className=\"card-title\">{result.title} by {result.authors}</h5>\n    //                                             <p className=\"card-text\">{result.description}</p>\n    //                                             <div>\n    //                                                 <a href={result.link} className=\"btn badge-pill btn-outline-dark mt-3\" target=\"_blank\" >View</a>\n    //                                                 <button onClick={() => this.handleSave(result)} className=\"btn badge-pill btn-outline-warning mt-3 ml-3\" >\n    //                                                     {this.state.savedBooks.map(book => book._id).includes(result._id) ? \"Unsave\" : \"Save\"}\n    //                                                 </button>\n    //                                             </div>\n    //                                         </div>\n    //                                     </div>\n    //                                 </div>\n    //                             </div>\n    //                         ))}\n    //                     </div>\n    //                 )}\n    //         </div>\n    //     )\n    // }\n\n  }]);\n\n  return Results;\n}(Component);\n\nexport default Results;","map":{"version":3,"sources":["/Users/suziestephen/Desktop/BOOTCAMP_MAIN/homeworkfin/gbs/googlebooks.github.io/client/src/components/Results/results.js"],"names":["React","Component","API","Results","state","savedBooks","handleSave","book","map","_id","includes","deleteBook","then","deletedBook","setState","filter","catch","err","console","error","saveBook","savedBook","concat"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,GAAP,MAAgB,iBAAhB;;IAEMC,O;;;;;;;;;;;;;;;;;UAEFC,K,GAAQ;AACJC,MAAAA,UAAU,EAAE;AADR,K;;UAURC,U,GAAa,UAAAC,IAAI,EAAI;AAEjB,UAAI,MAAKH,KAAL,CAAWC,UAAX,CAAsBG,GAAtB,CAA0B,UAAAD,IAAI;AAAA,eAAIA,IAAI,CAACE,GAAT;AAAA,OAA9B,EAA4CC,QAA5C,CAAqDH,IAAI,CAACE,GAA1D,CAAJ,EAAoE;AAChEP,QAAAA,GAAG,CAACS,UAAJ,CAAeJ,IAAI,CAACE,GAApB,EACKG,IADL,CACU,UAAAC,WAAW;AAAA,iBAAI,MAAKC,QAAL,CAAc;AAAET,YAAAA,UAAU,EAAE,MAAKD,KAAL,CAAWC,UAAX,CAAsBU,MAAtB,CAA6B,UAAAR,IAAI;AAAA,qBAAIA,IAAI,CAACE,GAAL,KAAaI,WAAW,CAACJ,GAA7B;AAAA,aAAjC;AAAd,WAAd,CAAJ;AAAA,SADrB,EAEKO,KAFL,CAEW,UAAAC,GAAG;AAAA,iBAAIC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAJ;AAAA,SAFd;AAGH,OAJD,MAIO;AACHf,QAAAA,GAAG,CAACkB,QAAJ,CAAab,IAAb,EACKK,IADL,CACU,UAAAS,SAAS;AAAA,iBAAI,MAAKP,QAAL,CAAc;AAAET,YAAAA,UAAU,EAAE,MAAKD,KAAL,CAAWC,UAAX,CAAsBiB,MAAtB,CAA6B,CAACD,SAAD,CAA7B;AAAd,WAAd,CAAJ;AAAA,SADnB,EAEKL,KAFL,CAEW,UAAAC,GAAG;AAAA,iBAAIC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAJ;AAAA,SAFd;AAGH;AACJ,K;;;;;;;wCAjBmB;AAAA;;AAChBf,MAAAA,GAAG,CAACG,UAAJ,GACKO,IADL,CACU,UAAAP,UAAU;AAAA,eAAI,MAAI,CAACS,QAAL,CAAc;AAAET,UAAAA,UAAU,EAAEA;AAAd,SAAd,CAAJ;AAAA,OADpB,EAEKW,KAFL,CAEW,UAAAC,GAAG;AAAA,eAAIC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAJ;AAAA,OAFd;AAGH,K,CAeD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;EAzDkBhB,S;;AA4DtB,eAAeE,OAAf","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"../../utils/API\";\n\nclass Results extends Component {\n\n    state = {\n        savedBooks: [],\n    }\n\n    componentDidMount() {\n        API.savedBooks()\n            .then(savedBooks => this.setState({ savedBooks: savedBooks }))\n            .catch(err => console.error(err));\n    }\n\n    handleSave = book => {\n\n        if (this.state.savedBooks.map(book => book._id).includes(book._id)) {\n            API.deleteBook(book._id)\n                .then(deletedBook => this.setState({ savedBooks: this.state.savedBooks.filter(book => book._id !== deletedBook._id) }))\n                .catch(err => console.error(err));\n        } else {\n            API.saveBook(book)\n                .then(savedBook => this.setState({ savedBooks: this.state.savedBooks.concat([savedBook]) }))\n                .catch(err => console.error(err));\n        }\n    }\n\n    // render() {\n    //     return (\n    //         <div>\n    //             {!this.props.books.length ? (\n    //                 <h1 className=\"text-center\">No Results to Display</h1>\n    //             ) : (\n    //                     <div>\n    //                         {this.props.books.map(result => (\n    //                             <div className=\"card mb-3\" key={result._id}>\n    //                                 <div className=\"row\">\n    //                                     <div className=\"col-md-2\">\n    //                                         <img alt={result.title} className=\"img-fluid\" src={result.image} />\n    //                                     </div>\n    //                                     <div className=\"col-md-10\">\n    //                                         <div className=\"card-body\">\n    //                                             <h5 className=\"card-title\">{result.title} by {result.authors}</h5>\n    //                                             <p className=\"card-text\">{result.description}</p>\n    //                                             <div>\n    //                                                 <a href={result.link} className=\"btn badge-pill btn-outline-dark mt-3\" target=\"_blank\" >View</a>\n    //                                                 <button onClick={() => this.handleSave(result)} className=\"btn badge-pill btn-outline-warning mt-3 ml-3\" >\n    //                                                     {this.state.savedBooks.map(book => book._id).includes(result._id) ? \"Unsave\" : \"Save\"}\n    //                                                 </button>\n    //                                             </div>\n    //                                         </div>\n    //                                     </div>\n    //                                 </div>\n    //                             </div>\n    //                         ))}\n    //                     </div>\n    //                 )}\n    //         </div>\n    //     )\n    // }\n}\n\nexport default Results;\n"]},"metadata":{},"sourceType":"module"}